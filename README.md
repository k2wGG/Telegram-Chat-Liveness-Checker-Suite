# Telegram Chat Liveness Checker Suite

–ù–∞–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ ‚Äú–∂–∏–∑–Ω–∏‚Äù Telegram-—á–∞—Ç–æ–≤, –æ—á–∏—Å—Ç–∫–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–ø–∏—Å–∫–æ–≤ —Å—Å—ã–ª–æ–∫.

---

## üì¶ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- **`.env.example`**  
  –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è).

- **`filter_telegram_chats.py`**  
  –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ —Å–ø–∏—Å–∫—É `chats.txt` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª/—á–∞—Ç –ø–æ —Ç–∞–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º:  
  1. **–ú–∏–Ω–∏–º—É–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** (`MIN_PARTICIPANTS`)  
  2. **–°–≤–µ–∂–µ—Å—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å—Ç–∞** ‚Äî –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ —Å—Ç–∞—Ä—à–µ `RECENT_DAYS` –¥–Ω–µ–π  
  3. **–ù–µ –±–æ–ª–µ–µ N —Å–æ–æ–±—â–µ–Ω–∏–π** –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ M —Å–µ–∫—É–Ω–¥ (`MSG_PERIOD_SECONDS`, `MAX_MSG_COUNT`)  
  4. **–ú–∏–Ω–∏–º—É–º –æ–Ω–ª–∞–π–Ω-—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** (`MIN_ONLINE`)  
  5. **–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç service- –∏ action-—Å–æ–æ–±—â–µ–Ω–∏—è** (–ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –∏–Ω–≤–∞–π—Ç—ã –∏ —Ç.–ø.)  
  –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `active_chats.txt` –∏ `inactive_chats.txt`.

- **`extract_links.py`**  
  –ë–µ—Ä—ë—Ç –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `active_chats.txt`), –∏—â–µ—Ç –≤ –Ω—ë–º —Å—Å—ã–ª–∫–∏ `https://t.me/...` –∏  
  –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ URL –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `active_links.txt`).

- **`strip_numbering.py`**  
  –£–±–∏—Ä–∞–µ—Ç –∏–∑ —Å—Ç—Ä–æ–∫ –ø—Ä–µ—Ñ–∏–∫—Å—ã –≤–∏–¥–∞ `123.` –∏–ª–∏ `123. `, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ URL.  
  –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –¥–∞–Ω–Ω—ã–º –∏–∑ `active_links.txt` (–∏–ª–∏ –ª—é–±–æ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞).
---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**  
   ```bash
   git clone https://github.com/k2wGG/Telegram-Chat-Liveness-Checker-Suite.git
   cd Telegram-Chat-Liveness-Checker-Suite

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**

   ```bash
   python -m venv venv
   source venv/Scripts/activate    # Windows/Git-bash
   # –∏–ª–∏ source venv/bin/activate  # macOS/Linux
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

   ```bash
   pip install telethon python-dotenv
   ```

4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` ‚Üí `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ**

   ```dotenv
   # ‚Äî –í–∞—à–∏ –∫–ª—é—á–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî
   API_ID=123456
   API_HASH=abcdef123456

   # –ë–æ—Ç-—Ç–æ–∫–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –±–æ—Ç–∞ –≤–º–µ—Å—Ç–æ user-mode, –Ω–æ —É –±–æ—Ç–æ–≤ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è) - –Ω–µ —Å–æ–≤–µ—Ç—É—é
   # BOT_TOKEN=123456789:ABCdefGhIjklMnop

   # –î–ª—è –ª–æ–≥–∏–Ω–∞ —á–µ—Ä–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω (user-mode)
   PHONE=+71234567890

   # ‚Äî –ü–æ—Ä–æ–≥–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî
   MIN_PARTICIPANTS=2000    # –º–∏–Ω–∏–º—É–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ —á–∞—Ç–µ
   RECENT_DAYS=180          # –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å —á–∞—Ç—ã –±–µ–∑ –ø–æ—Å—Ç–æ–≤ —Å—Ç–∞—Ä—à–µ —ç—Ç–æ–≥–æ —á–∏—Å–ª–∞ –¥–Ω–µ–π
   MSG_PERIOD_SECONDS=60    # –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ —Å–µ–∫—É–Ω–¥–∞—Ö –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
   MAX_MSG_COUNT=15         # –º–∞–∫—Å. —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ –ø–µ—Ä–∏–æ–¥
   MIN_ONLINE=300           # –º–∏–Ω–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–Ω–ª–∞–π–Ω

   # ‚Äî –§–∞–π–ª—ã –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ ‚Äî
   INPUT_FILE=chats.txt
   ACTIVE_FILE=active_chats.txt
   INACTIVE_FILE=inactive_chats.txt
   ```

---

## üöÄ Usage

### 1. `filter_telegram_chats.py`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∏–∑ `INPUT_FILE` (‚Äúchats.txt‚Äù) –∏ –¥–µ–ª–∏—Ç –∏—Ö –Ω–∞ ¬´–∂–∏–≤—ã–µ¬ª –∏ ¬´–º–µ—Ä—Ç–≤—ã–µ¬ª.

```bash
python filter_telegram_chats.py
```

* **User-mode**:
  –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ, –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω `BOT_TOKEN`, –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å `PHONE` ‚Üí –∫–æ–¥ –∏–∑ Telegram ‚Üí (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å.
  –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ Telethon —Å–æ—Ö—Ä–∞–Ω–∏—Ç `session_user.session` –∏ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –∫–æ–¥.

* **Bot-mode**:
  –ï—Å–ª–∏ –≤ `.env` —É–∫–∞–∑–∞–Ω `BOT_TOKEN`, —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ –±–æ—Ç–∞ (–±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞/–∫–æ–¥–∞).
  *–í–∞–∂–Ω–æ*: –±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–≥–ª–∞—à—ë–Ω –≤–æ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ —á–∞—Ç—ã/–∫–∞–Ω–∞–ª—ã –∏ –∏–º–µ—Ç—å –ø—Ä–∞–≤–æ ‚ÄúRead history‚Äù.

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:

* `active_chats.txt` ‚Äî —Å–ø–∏—Å–æ–∫ URL ¬´–∂–∏–≤—ã—Ö¬ª —á–∞—Ç–æ–≤.
* `inactive_chats.txt` ‚Äî —Å–ø–∏—Å–æ–∫ URL ¬´–º–µ—Ä—Ç–≤—ã—Ö¬ª —á–∞—Ç–æ–≤.

---

### 2. `extract_links.py`

–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –≤—Å–µ Telegram-—Å—Å—ã–ª–∫–∏.

```bash
python extract_links.py
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
#   input_file  = active_chats.txt
#   output_file = active_links.txt
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: `https?://t\.me/\S+`.

---

### 3. `strip_numbering.py`

–£–¥–∞–ª—è–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –≤–∏–¥–∞ `123.` –∏–ª–∏ `123. ` –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ URL.

```bash
python strip_numbering.py
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
#   input_file  = active_links.txt
#   output_file = links_clean.txt
```

–†–µ–≥—É–ª—è—Ä–∫–∞: `^\s*\d+\.\s*(https?://\S+)`.

---

## üîç –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω–≤–µ–π–µ—Ä–∞

```bash
# 1) –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python filter_telegram_chats.py

# 2) –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
python extract_links.py active_chats.txt links_with_nums.txt

# 3) –£–¥–∞–ª–µ–Ω–∏–µ –Ω—É–º–µ—Ä–∞—Ü–∏–∏
python strip_numbering.py links_with_nums.txt links_clean.txt

```
